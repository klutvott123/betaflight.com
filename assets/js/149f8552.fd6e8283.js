"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[8316],{3905:(t,e,a)=>{a.d(e,{Zo:()=>p,kt:()=>h});var n=a(67294);function l(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function r(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach((function(e){l(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function o(t,e){if(null==t)return{};var a,n,l=function(t,e){if(null==t)return{};var a,n,l={},r=Object.keys(t);for(n=0;n<r.length;n++)a=r[n],e.indexOf(a)>=0||(l[a]=t[a]);return l}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(n=0;n<r.length;n++)a=r[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(l[a]=t[a])}return l}var d=n.createContext({}),u=function(t){var e=n.useContext(d),a=e;return t&&(a="function"==typeof t?t(e):i(i({},e),t)),a},p=function(t){var e=u(t.components);return n.createElement(d.Provider,{value:e},t.children)},s="mdxType",m={inlineCode:"code",wrapper:function(t){var e=t.children;return n.createElement(n.Fragment,{},e)}},c=n.forwardRef((function(t,e){var a=t.components,l=t.mdxType,r=t.originalType,d=t.parentName,p=o(t,["components","mdxType","originalType","parentName"]),s=u(a),c=l,h=s["".concat(d,".").concat(c)]||s[c]||m[c]||r;return a?n.createElement(h,i(i({ref:e},p),{},{components:a})):n.createElement(h,i({ref:e},p))}));function h(t,e){var a=arguments,l=e&&e.mdxType;if("string"==typeof t||l){var r=a.length,i=new Array(r);i[0]=c;var o={};for(var d in e)hasOwnProperty.call(e,d)&&(o[d]=e[d]);o.originalType=t,o[s]="string"==typeof t?t:l,i[1]=o;for(var u=2;u<r;u++)i[u]=a[u];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}c.displayName="MDXCreateElement"},64229:(t,e,a)=>{a.r(e),a.d(e,{assets:()=>d,contentTitle:()=>i,default:()=>s,frontMatter:()=>r,metadata:()=>o,toc:()=>u});var n=a(87462),l=(a(67294),a(3905));const r={},i="Modes",o={unversionedId:"development/Modes",id:"development/Modes",title:"Modes",description:"There are various modes that can be toggled on or off. Modes can be enabled/disabled by stick positions, auxiliary receiver channels and other events such as failsafe detection.",source:"@site/docs/development/Modes.md",sourceDirName:"development",slug:"/development/Modes",permalink:"/betaflight.com/docs/development/Modes",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"development",previous:{title:"Mixer",permalink:"/betaflight.com/docs/development/Mixer"},next:{title:"OSD Profiles",permalink:"/betaflight.com/docs/development/OSD Profiles"}},d={},u=[{value:"Auto-leveled flight",id:"auto-leveled-flight",level:2},{value:"Mode details",id:"mode-details",level:2},{value:"Angle",id:"angle",level:3},{value:"Horizon",id:"horizon",level:3},{value:"Headfree",id:"headfree",level:3},{value:"Airmode",id:"airmode",level:3},{value:"Auxiliary Configuration",id:"auxiliary-configuration",level:2},{value:"CLI",id:"cli",level:3}],p={toc:u};function s(t){let{components:e,...a}=t;return(0,l.kt)("wrapper",(0,n.Z)({},p,a,{components:e,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"modes"},"Modes"),(0,l.kt)("p",null,"There are various modes that can be toggled on or off. Modes can be enabled/disabled by stick positions, auxiliary receiver channels and other events such as failsafe detection."),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"ID"),(0,l.kt)("th",{parentName:"tr",align:null},"Short Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Function"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"ARM"),(0,l.kt)("td",{parentName:"tr",align:null},"Enables motors and flight stabilisation")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"1"),(0,l.kt)("td",{parentName:"tr",align:null},"ANGLE"),(0,l.kt)("td",{parentName:"tr",align:null},"Legacy auto-level flight mode")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"2"),(0,l.kt)("td",{parentName:"tr",align:null},"HORIZON"),(0,l.kt)("td",{parentName:"tr",align:null},"Auto-level flight mode")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"4"),(0,l.kt)("td",{parentName:"tr",align:null},"ANTI GRAVITY"),(0,l.kt)("td",{parentName:"tr",align:null},"Prevents dips and rolls on fast throttle changes")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"5"),(0,l.kt)("td",{parentName:"tr",align:null},"MAG"),(0,l.kt)("td",{parentName:"tr",align:null},"Heading lock")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"6"),(0,l.kt)("td",{parentName:"tr",align:null},"HEADFREE"),(0,l.kt)("td",{parentName:"tr",align:null},"Head Free - When enabled yaw has no effect on pitch/roll inputs")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"7"),(0,l.kt)("td",{parentName:"tr",align:null},"HEADADJ"),(0,l.kt)("td",{parentName:"tr",align:null},"Heading Adjust - Sets a new yaw origin for HEADFREE mode")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"8"),(0,l.kt)("td",{parentName:"tr",align:null},"CAMSTAB"),(0,l.kt)("td",{parentName:"tr",align:null},"Camera Stabilisation")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"12"),(0,l.kt)("td",{parentName:"tr",align:null},"PASSTHRU"),(0,l.kt)("td",{parentName:"tr",align:null},"Pass roll, yaw, and pitch directly from rx to servos in airplane mix")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"13"),(0,l.kt)("td",{parentName:"tr",align:null},"BEEPERON"),(0,l.kt)("td",{parentName:"tr",align:null},"Enable beeping - useful for locating a crashed aircraft")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"15"),(0,l.kt)("td",{parentName:"tr",align:null},"LEDLOW"),(0,l.kt)("td",{parentName:"tr",align:null},"Switch off LED_STRIP output")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"17"),(0,l.kt)("td",{parentName:"tr",align:null},"CALIB"),(0,l.kt)("td",{parentName:"tr",align:null},"Start in-flight calibration")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"19"),(0,l.kt)("td",{parentName:"tr",align:null},"OSD"),(0,l.kt)("td",{parentName:"tr",align:null},"Enable/Disable On-Screen-Display (OSD)")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"20"),(0,l.kt)("td",{parentName:"tr",align:null},"TELEMETRY"),(0,l.kt)("td",{parentName:"tr",align:null},"Enable telemetry via switch")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"23"),(0,l.kt)("td",{parentName:"tr",align:null},"SERVO1"),(0,l.kt)("td",{parentName:"tr",align:null},"Servo 1")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"24"),(0,l.kt)("td",{parentName:"tr",align:null},"SERVO2"),(0,l.kt)("td",{parentName:"tr",align:null},"Servo 2")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"25"),(0,l.kt)("td",{parentName:"tr",align:null},"SERVO3"),(0,l.kt)("td",{parentName:"tr",align:null},"Servo 3")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"26"),(0,l.kt)("td",{parentName:"tr",align:null},"BLACKBOX"),(0,l.kt)("td",{parentName:"tr",align:null},"Enable BlackBox logging")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"27"),(0,l.kt)("td",{parentName:"tr",align:null},"FAILSAFE"),(0,l.kt)("td",{parentName:"tr",align:null},"Enter failsafe stage 2 manually")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"28"),(0,l.kt)("td",{parentName:"tr",align:null},"AIRMODE"),(0,l.kt)("td",{parentName:"tr",align:null},"Alternative mixer and additional PID logic for more stable copter")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"29"),(0,l.kt)("td",{parentName:"tr",align:null},"3D"),(0,l.kt)("td",{parentName:"tr",align:null},"Enable 3D mode")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"30"),(0,l.kt)("td",{parentName:"tr",align:null},"FPV ANGLE MIX"),(0,l.kt)("td",{parentName:"tr",align:null},"Apply yaw rotation relative to a FPV camera mounted at a preset angle")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"31"),(0,l.kt)("td",{parentName:"tr",align:null},"BLACKBOX ERASE"),(0,l.kt)("td",{parentName:"tr",align:null},"Erase the contents of the onboard flash log chip (takes > 30 s)")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"32"),(0,l.kt)("td",{parentName:"tr",align:null},"CAMERA CONTROL 1"),(0,l.kt)("td",{parentName:"tr",align:null},"Control function 1 of the onboard camera (if supported)")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"33"),(0,l.kt)("td",{parentName:"tr",align:null},"CAMERA CONTROL 2"),(0,l.kt)("td",{parentName:"tr",align:null},"Control function 2 of the onboard camera (if supported)")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"34"),(0,l.kt)("td",{parentName:"tr",align:null},"CAMERA CONTROL 3"),(0,l.kt)("td",{parentName:"tr",align:null},"Control function 3 of the onboard camera (if supported)")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"35"),(0,l.kt)("td",{parentName:"tr",align:null},"FLIP OVER AFTER CRASH"),(0,l.kt)("td",{parentName:"tr",align:null},"Reverse the motors to flip over an upside down craft after a crash (DShot required)")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"36"),(0,l.kt)("td",{parentName:"tr",align:null},"BOXPREARM"),(0,l.kt)("td",{parentName:"tr",align:null},"When arming, wait for this switch to be activated before actually arming")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"37"),(0,l.kt)("td",{parentName:"tr",align:null},"BEEP GPS SATELLITE COUNT"),(0,l.kt)("td",{parentName:"tr",align:null},"Use a number of beeps to indicate the number of GPS satellites found")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"39"),(0,l.kt)("td",{parentName:"tr",align:null},"VTX PIT MODE"),(0,l.kt)("td",{parentName:"tr",align:null},"Switch the VTX into pit mode (low output power, if supported)")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"40"),(0,l.kt)("td",{parentName:"tr",align:null},"USER1"),(0,l.kt)("td",{parentName:"tr",align:null},"User defined switch 1. Intended to be used to control an arbitrary output with PINIO")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"41"),(0,l.kt)("td",{parentName:"tr",align:null},"USER2"),(0,l.kt)("td",{parentName:"tr",align:null},"User defined switch 2. Intended to be used to control an arbitrary output with PINIO")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"42"),(0,l.kt)("td",{parentName:"tr",align:null},"USER3"),(0,l.kt)("td",{parentName:"tr",align:null},"User defined switch 3. Intended to be used to control an arbitrary output with PINIO")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"43"),(0,l.kt)("td",{parentName:"tr",align:null},"USER4"),(0,l.kt)("td",{parentName:"tr",align:null},"User defined switch 4. Intended to be used to control an arbitrary output with PINIO")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"44"),(0,l.kt)("td",{parentName:"tr",align:null},"PID AUDIO"),(0,l.kt)("td",{parentName:"tr",align:null},"Enable output of PID controller state as audio")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"45"),(0,l.kt)("td",{parentName:"tr",align:null},"PARALYZE"),(0,l.kt)("td",{parentName:"tr",align:null},"Permanently disable a crashed craft until it is power cycled")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"46"),(0,l.kt)("td",{parentName:"tr",align:null},"GPS RESCUE"),(0,l.kt)("td",{parentName:"tr",align:null},"Enable 'GPS Rescue' to return the craft to the location where it was last armed")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"47"),(0,l.kt)("td",{parentName:"tr",align:null},"ACRO TRAINER"),(0,l.kt)("td",{parentName:"tr",align:null},"Enable 'acro trainer' angle limiting in acro mode")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"48"),(0,l.kt)("td",{parentName:"tr",align:null},"DISABLE VTX CONTROL"),(0,l.kt)("td",{parentName:"tr",align:null},"Disable the control of VTX settings through the OSD")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"49"),(0,l.kt)("td",{parentName:"tr",align:null},"LAUNCH CONTROL"),(0,l.kt)("td",{parentName:"tr",align:null},"Race start assistance system")))),(0,l.kt)("h2",{id:"auto-leveled-flight"},"Auto-leveled flight"),(0,l.kt)("p",null,'The default flight mode does not stabilize the multicopter around the roll and the pitch axes. That is, the multicopter does not level on its own if you center the pitch and roll sticks on the radio. Rather, they work just like the yaw axis: the rate of rotation of each axis is controlled directly by the related stick on the radio, and by leaving them centered the flight controller will just try to keep the multicopter in whatever orientation it\'s in. This default mode is called "Rate" mode, also sometime called "Acro" (from "acrobatic") or "Manual" mode, and is active whenever no auto-leveled mode is enabled.'),(0,l.kt)("p",null,"If your flight controller is equipped with a 3 axis accelerometer (very likely), then you can enable one of the two available auto leveled flight modes."),(0,l.kt)("h2",{id:"mode-details"},"Mode details"),(0,l.kt)("h3",{id:"angle"},"Angle"),(0,l.kt)("p",null,"In this auto-leveled mode the roll and pitch channels control the angle between the relevant axis and the vertical, achieving leveled flight just by leaving the sticks centered."),(0,l.kt)("h3",{id:"horizon"},"Horizon"),(0,l.kt)("p",null,"This hybrid mode works exactly like the previous ANGLE mode with centered roll and pitch sticks (thus enabling auto-leveled flight), then gradually behaves more and more like the default RATE mode as the sticks are moved away from the center position."),(0,l.kt)("h3",{id:"headfree"},"Headfree"),(0,l.kt)("p",null,'In this mode, the "head" of the multicopter is always pointing to the same direction as when the feature was activated. This means that when the multicopter rotates around the Z axis (yaw), the controls will always respond according the same "head" direction.'),(0,l.kt)("p",null,"With this mode it is easier to control the multicopter, even fly it with the physical head towards you since the controls always respond the same. This is a friendly mode to new users of multicopters and can prevent losing the control when you don't know the head direction."),(0,l.kt)("h3",{id:"airmode"},"Airmode"),(0,l.kt)("p",null,"In the standard mixer / mode, when the roll, pitch and yaw gets calculated and saturates a motor, all motors will be reduced equally. When a motor goes below minimum it gets clipped off. Say you had your throttle just above minimum and tried to pull a quick roll - since two motors can't go any lower, you essentially get half the power (half of your PID gain). If your inputs would have asked for more than a 100% difference between the high and low motors, the low motors would get clipped, breaking the symmetry of the motor balance by unevenly reducing the gain."),(0,l.kt)("p",null,"Airmode will enable full PID correction during zero throttle and give you ability for nice zero throttle gliding and acrobatics. In addition, the cornering / turns will be much tighter now as there is always maximum possible correction performed."),(0,l.kt)("p",null,"Airmode can also be enabled to work at all times by always putting it on the same switch such as your arm switch, alternatively you can enable/disable it in air."),(0,l.kt)("p",null,"Additional points and benefits:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Airmode will additionally fully enable Iterm at zero throttle. Note that there is still some protection on the ground when throttle zeroed (below min\\check) and roll/pitch sticks centered. This is a basic protection to limit motors spooling up on the ground."),(0,l.kt)("li",{parentName:"ul"},"Also the Iterm will be reset above 70% of stick input in acro mode to prevent quick Iterm windups during finishes of rolls and flips, which will provide much cleaner and more natural stops of flips and rolls what again opens the ability to have higher I gains for some. Note that AIRMODE will also overrule motor stop function! It will basically also act as an idle up switch.")),(0,l.kt)("h2",{id:"auxiliary-configuration"},"Auxiliary Configuration"),(0,l.kt)("p",null,"Spare auxiliary receiver channels can be used to enable/disable modes. Some modes can only be enabled this way."),(0,l.kt)("p",null,"Configure your transmitter so that switches or dials (potentiometers) send channel data on channels 5 and upwards (the first 4 channels are usually occupied by the throttle, aileron, rudder, and elevator channels)."),(0,l.kt)("p",null,(0,l.kt)("em",{parentName:"p"},"e.g. You can configure a 3 position switch to send 1000 when the switch is low, 1500 when the switch is in the middle and 2000 when the switch is high.")),(0,l.kt)("p",null,"Configure your tx/rx channel limits to use values between 1000 and 2000. The range used by mode ranges is fixed to 900 to 2100."),(0,l.kt)("p",null,"When a channel is within a specified range the corresponding mode is enabled."),(0,l.kt)("p",null,"Use the GUI configuration tool to allow easy configuration when channel."),(0,l.kt)("h3",{id:"cli"},"CLI"),(0,l.kt)("p",null,"There is a CLI command, ",(0,l.kt)("inlineCode",{parentName:"p"},"aux")," that allows auxiliary configuration. It takes 5 arguments as follows:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"AUX range slot number (0 - 39)"),(0,l.kt)("li",{parentName:"ul"},"mode id (see mode list above)"),(0,l.kt)("li",{parentName:"ul"},"AUX channel index (AUX1 = 0, AUX2 = 1,... etc)"),(0,l.kt)("li",{parentName:"ul"},"low position, from 900 to 2100. Should be a multiple of 25."),(0,l.kt)("li",{parentName:"ul"},"high position, from 900 to 2100. Should be a multiple of 25.")),(0,l.kt)("p",null,"If the low and high position are the same then the values are ignored."),(0,l.kt)("p",null,"e.g."),(0,l.kt)("p",null,"Configure AUX range slot 0 to enable ARM when AUX1 is within 1700 and 2100."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"aux 0 0 0 1700 2100\n")),(0,l.kt)("p",null,"You can display the AUX configuration by using the ",(0,l.kt)("inlineCode",{parentName:"p"},"aux")," command with no arguments."))}s.isMDXComponent=!0}}]);